<!-- Article Header -->
<article class="bg-white ">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <!-- Category Badge -->
        <div class="mb-6">
            <a href="/category/{{it.post.category}}"
                class="inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-blue-100 text-blue-800">
                {{it.post.category}}
        </a>
        </div>

        <!-- Title -->
        <h1 class="text-4xl lg:text-5xl font-bold text-gray-900 mb-6 leading-tight">
            {{it.post.title}}
        </h1>

        <!-- Excerpt -->
        <p class="text-xl text-gray-600 mb-8 leading-relaxed">
            {{it.post.excerpt}}
        </p>

        <!-- Meta Information -->
        <div class="flex flex-wrap items-center gap-6 mb-8 pb-8 border-b border-gray-200">
            <div class="flex items-center space-x-3">
                {{@if(it.author.avatar)}}
                    <img src="{{it.author.avatar}}" alt="{{it.author.name}}" class="w-12 h-12 rounded-full object-cover">
                {{#else}}
                    <div class="w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white font-semibold">
                        {{it.author.name.charAt(0).toUpperCase()}}
                    </div>
                {{/if}}
                <div>
                    <p class="font-semibold text-gray-900">{{it.author.name}}</p>
                    <p class="text-sm text-gray-500">{{it.author.role}}</p>
                </div>
            </div>
            <div class="flex items-center space-x-6 text-sm text-gray-500">
                <span  class="flex date-format items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-calendar h-4 w-4 mr-2">
                        <path d="M8 2v4"></path>
                        <path d="M16 2v4"></path>
                        <rect width="18" height="18" x="3" y="4" rx="2"></rect>
                        <path d="M3 10h18"></path>
                    </svg>
                    {{it.post.published_at}}
                </span>
                <span class="flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-clock h-4 w-4 mr-2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                    {{it.post.read_time}} min read
                </span>
                <span class="flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-eye h-4 w-4 mr-2">
                        <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-3-7-10-7Z"></path>
                        <circle cx="12" cy="12" r="3"></circle>
                    </svg>
                    {{it.post.view_count}} views
                </span>
            </div>
        </div>

        <!-- Featured Image -->
       {{@if(it.post.featured_image)}}
 <div class="mb-12">
            <img src="{{it.post.featured_image}}" alt="{{it.post.title}}"
                class="w-full h-64 lg:h-96 object-cover rounded-2xl shadow-lg">
        </div>
       {{/if}}
        <!-- Article Content -->
        <article
            class="ProseMirror focus:outline-none max-w-full space-y-4 leading-relaxed">
            {{* it.post.content}}
        </article>

        <!-- Tags -->
        <div class="mt-12 pt-8 border-t border-gray-200">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">Tags</h3>
            <div class="flex flex-wrap gap-2">
                {{@each(it.post.tags)=>tag}}
                <a href="/tag/{{tag}}"
                    class="inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors cursor-pointer">
                    #{{tag}}
                </a>
                {{/each}}
            </div>
        </div>

        <!-- Social Share -->
        <div class="mt-8 pt-8 border-t border-gray-200">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">Share this article</h3>
            <div class="flex flex-wrap items-center gap-3 sm:gap-4">
                <button
                    id="share-facebook"
                    class="flex items-center space-x-2 px-3 py-2 sm:px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                        fill="currentColor" class="lucide lucide-facebook flex-shrink-0">
                        <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
                    </svg>
                    <span class="hidden sm:inline">Facebook</span>
                </button>
                <button
                    id="share-twitter"
                    class="flex items-center space-x-2 px-3 py-2 sm:px-4 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors text-sm sm:text-base">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                        fill="currentColor" class="lucide lucide-twitter flex-shrink-0">
                        <path
                            d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z">
                        </path>
                    </svg>
                    <span class="hidden sm:inline">Twitter</span>
                </button>
                <button
                    id="share-linkedin"
                    class="flex items-center space-x-2 px-3 py-2 sm:px-4 bg-blue-700 text-white rounded-lg hover:bg-blue-800 transition-colors text-sm sm:text-base">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                        fill="currentColor" class="lucide lucide-linkedin flex-shrink-0">
                        <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z">
                        </path>
                        <rect width="4" height="12" x="2" y="9"></rect>
                        <circle cx="4" cy="4" r="2"></circle>
                    </svg>
                    <span class="hidden sm:inline">LinkedIn</span>
                </button>
                <button
                    id="copy-link"
                    class="flex items-center space-x-2 px-3 py-2 sm:px-4 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm sm:text-base">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-link flex-shrink-0">
                        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
                        <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
                    </svg>
                    <span class="hidden sm:inline">Copy Link</span>
                </button>
            </div>
        </div>


    </div>
</article>
<script>
    // Social sharing functionality
    document.addEventListener('DOMContentLoaded', function() {
        const currentUrl = encodeURIComponent(window.location.href);
        const pageTitle = encodeURIComponent(document.title);
        const pageDescription = encodeURIComponent(document.querySelector('meta[name="description"]')?.content || '');
        
        // Facebook share
        const facebookBtn = document.getElementById('share-facebook');
        facebookBtn.addEventListener('click', () => {
            const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${currentUrl}`;
            window.open(facebookUrl, '_blank', 'width=600,height=400');
        });
        
        // Twitter share
        const twitterBtn = document.getElementById('share-twitter');
        twitterBtn.addEventListener('click', () => {
            const twitterUrl = `https://twitter.com/intent/tweet?url=${currentUrl}&text=${pageTitle}`;
            window.open(twitterUrl, '_blank', 'width=600,height=400');
        });
        
        // LinkedIn share
        const linkedinBtn = document.getElementById('share-linkedin');
        linkedinBtn.addEventListener('click', () => {
            const linkedinUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${currentUrl}`;
            window.open(linkedinUrl, '_blank', 'width=600,height=400');
        });
        
        // Copy link functionality
        const copyLinkBtn = document.getElementById('copy-link');
        copyLinkBtn.addEventListener('click', async () => {
            try {
                if (navigator.clipboard && window.isSecureContext) {
                    await navigator.clipboard.writeText(window.location.href);
                } else {
                    // Fallback for older browsers
                    const input = document.createElement('input');
                    input.value = window.location.href;
                    document.body.appendChild(input);
                    input.select();
                    document.execCommand('copy');
                    document.body.removeChild(input);
                }
                
                // Show success feedback
                const originalText = copyLinkBtn.querySelector('span').textContent;
                const span = copyLinkBtn.querySelector('span');
                span.textContent = 'Copied!';
                copyLinkBtn.classList.add('bg-green-600', 'hover:bg-green-700');
                copyLinkBtn.classList.remove('bg-gray-600', 'hover:bg-gray-700');
                
                setTimeout(() => {
                    span.textContent = originalText;
                    copyLinkBtn.classList.remove('bg-green-600', 'hover:bg-green-700');
                    copyLinkBtn.classList.add('bg-gray-600', 'hover:bg-gray-700');
                }, 2000);
            } catch (err) {
                console.error('Failed to copy link: ', err);
                alert('Failed to copy link to clipboard');
            }
        });
        
        // Format date
        const dateFormat = document.querySelector('.date-format');
        if (dateFormat) {
            dateFormat.innerHTML = new Date().toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long', 
                day: 'numeric'
            });
        }
    });
</script>